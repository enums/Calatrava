<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="user-scalable=no, width=720px, height=1280px"/> 
	<title>搜索博文 | {{_pjango_param_title_message}}</title>
	<link rel="icon" href="/img/favicon.png" type="image/png">
	<link rel="stylesheet" href="/css/bootstrap.min.css">  
	<link rel="stylesheet" href="/css/font-awesome.min.css"> 
	<link rel="stylesheet" href="/css/buttons.css">  
	<link rel="stylesheet" href="/css/height.css">  
	<link rel="stylesheet" href="/css/me.css">  
	<script src="/js/jquery.min.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<script src="/js/buttons.js"></script>
</head>
<style>
	p.title {
		color: white;
		font-size: 32px;
	}
	p.tag {
		font-size: 22px;
		line-height: 2em;
	}
	input.search {
		color: white;
		background-color: transparent;
	}
	button.search {
		color: white;
		background-color: transparent;
	}
	a.tag {
		margin-right: 4px;
	}
</style>
<body class="main">

<div class="box">
	
	{{{_pjango_template_navigation_bar}}}
	
	<div class="col-md-12 column height-85">
		<div class="col-md-12 column">
			<div class="height-20"></div>
			<div class="col-md-8 col-center corner-window shadow" style="height: 360px">
				<div class="height-10"></div>
				<div class="text-center">
					<p id="title" class="title">搜索全部博文</p>
				</div>
                <div class="input-group input-group-lg col-md-10 column col-md-offset-1">
                    <input id="search_input" type="text" class="form-control search" placeholder="Keyword or Date. e.g., Swift, Perfect, Linux, 2017-03-03, 03-03" onkeydown='if(event.keyCode==13) search()'>
                    <span class="input-group-btn button-dropdown-plain">
                        <button class="btn btn-default search" onclick="search()">搜索</button>
                    </span>
                </div>
                <div class="height-10"></div>
                <div class="col-md-10 column col-md-offset-1">
	                <p class="tag">
						<a class="label label-danger tag" onclick="chooseTag('')">全部</a>
						{{#_pjango_param_all_tags}}
						<a class="label {{{_pjango_param_table_PostsTag_LABEL}}} tag" onclick="chooseTag('{{{_pjango_param_table_PostsTag_TAG}}}')">{{{_pjango_param_table_PostsTag_TAG}}}</a>
						{{/_pjango_param_all_tags}}
	                </p>
                </div>
				<div class="col-md-12 column">
					<div class="height-5"></div>
					<a class="button button-block button-rounded button-primary" onclick="location='{{_pjango_url_search}}'"><i class="fa fa-fw fa-search"></i> 推荐使用：全站内容搜索</a>
				</div>
			</div>
		</div>

	</div>
	
	{{{_pjango_template_footer_bar}}}
</div>
<script>

var tag = "";

function search() {
	var text = document.getElementById('search_input').value;
	var url = 'http://posts.{{_pjango_param_host}}/list?'
	if (tag != "") {
		url += "tag=" + tag + "&";
	}
	if (text != "") {
		url += "keyword=" + text;
	}
	location = url;
}
function chooseTag(t) {
	if (t == "") {
		document.getElementById("title").innerHTML="搜索全部博文";
	} else {
		document.getElementById("title").innerHTML="搜索标签为 `" + t + "` 的博文";
	}
	tag = t;
}
</script>
</body>
</html>

